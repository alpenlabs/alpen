[package]
edition = "2021"
name = "alpen-reth-db"
version = "0.3.0-alpha.1"

[lints]
workspace = true

[dependencies]
alpen-reth-statediff.workspace = true
strata-db.workspace = true
strata-db-store-rocksdb = { workspace = true, optional = true }
strata-db-store-sled = { workspace = true, optional = true }
strata-proofimpl-evm-ee-stf.workspace = true

anyhow = { workspace = true, optional = true }
bincode.workspace = true
borsh = { workspace = true, optional = true }
revm-primitives.workspace = true
rockbound = { workspace = true, optional = true }
sled = { workspace = true, optional = true }
typed-sled = { workspace = true, optional = true }

[features]
default = ["sled"]
sled = ["dep:strata-db-store-sled", "dep:sled", "dep:typed-sled"]
rocksdb = [
  "dep:strata-db-store-rocksdb",
  "dep:rockbound",
  "dep:anyhow",
  "dep:borsh",
]

[dev-dependencies]
serde.workspace = true
serde_json.workspace = true
